<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>VRKeyboard</title>
    <link rel="stylesheet" type="text/css" href="../css/main.css"/>
    <script src="../libs/stats.min.js"></script>
    <script src="../libs/three.min.js"></script>
    <script src="../js/threejs/controls/TrackballControls.js"></script>
    <script src="../js/VRKeyboard.js"></script>
    <script>
        var container;
        var camera;
        var stats;
        var scene, renderer;
        var controls;
        var vrKeyboard;

        function init(element)
        {
            container= document.getElementById(element);

            camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 20000);

            scene = new THREE.Scene();

            renderer = new THREE.WebGLRenderer({ alpha: true });
            renderer.setClearColor( 0x333333, 0);
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.domElement.style.position = 'absolute';
            renderer.domElement.style.top = 0;
            container.appendChild(renderer.domElement);

            controls = new THREE.TrackballControls(camera, renderer.domElement);
            controls.maxPolarAngle = Math.PI * 0.5;
            controls.minDistance = 100;
            controls.maxDistance = 25000;

            stats = new Stats();
            stats.domElement.style.position = 'absolute';
            stats.domElement.style.bottom = '0px';
            stats.domElement.style.zIndex = 100;
            container.appendChild( stats.domElement );

            camera.position.set(0, 0, 1500);
            camera.lookAt(new THREE.Vector3(0,0,0))

            window.addEventListener('resize', onWindowResize, false);

            vrKeyboard=new VRKeyboard(scene, camera, renderer);

            vrKeyboard.addEventListener("keydown", function(e){
                if(e.code=="a" || e.code=="A")
                {
                    vrKeyboard.keyColor="#D90000";
                    vrKeyboard.labelColor="#FFD24D";
                    vrKeyboard.borderColor="#FFD24D";
                    vrKeyboard.keyDownColor="#B20000";
                    vrKeyboard.labelDownColor="#FFBF00";
                    vrKeyboard.borderDownColor="#D90000";
                    vrKeyboard.borderRadius=0

                    searchTxt.backgroundColor="#D90000";
                    searchTxt.textColor="#FFD24D"
                    searchTxt.borderColor="#FFD24D";
                    searchTxt.backgroundFocusColor="#B20000";
                    searchTxt.textFocusColor="#FFBF00"
                    searchTxt.borderFocusColor="#FF0000";
                    searchTxt.borderRadius=0
                }
                else if(e.code=="b" || e.code=="B")
                {

                    vrKeyboard.keyColor="#CCCCCC";
                    vrKeyboard.labelColor="#0080FF";
                    vrKeyboard.borderColor="#0080FF";
                    vrKeyboard.keyDownColor="#FFFFFF";
                    vrKeyboard.labelDownColor="#006DD9";
                    vrKeyboard.borderDownColor="#006DD9";
                    vrKeyboard.borderRadius=16

                    searchTxt.backgroundColor="#CCCCCC";
                    searchTxt.textColor="#0080FF"
                    searchTxt.borderColor="#0080FF";
                    searchTxt.backgroundFocusColor="#FFFFFF";
                    searchTxt.textFocusColor="#006DD9"
                    searchTxt.borderFocusColor="#006DD9";
                    searchTxt.borderRadius=16
                }
                else if(e.code=="c" || e.code=="C")
                {
                    vrKeyboard.keyColor="#00D96D";
                    vrKeyboard.labelColor="#006633";
                    vrKeyboard.borderColor="#006633";
                    vrKeyboard.keyDownColor="#006633";
                    vrKeyboard.labelDownColor="#00D96D";
                    vrKeyboard.borderDownColor="#00D96D";
                    vrKeyboard.borderRadius=32

                    searchTxt.backgroundColor="#00D96D";
                    searchTxt.textColor="#006633"
                    searchTxt.borderColor="#006633";
                    searchTxt.backgroundFocusColor="#006633";
                    searchTxt.textFocusColor="#00D96D"
                    searchTxt.borderFocusColor="#00D96D";
                    searchTxt.borderRadius=32
                }

            })

            var searchTxt=new VRTextInput();
            searchTxt.width=400
            searchTxt.position.set(0,220,0);
            searchTxt.placeholder="Search..."

            vrKeyboard.addField(searchTxt)
            vrKeyboard.target=searchTxt


            animate();
        }

        function onWindowResize()
        {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        function animate()
        {
            requestAnimationFrame(animate);
            controls.update();
            vrKeyboard.update()
            renderer.render(scene, camera);
            stats.update()
        }

    </script>
</head>
<body onload="init('container')">
<div id="msg">Press A, B, or C key to change styles</div>
<div id="container"></div>
</body>
</html>